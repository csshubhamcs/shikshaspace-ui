# ========================================
# SERVER CONFIGURATION
# ========================================
server.port=7500
spring.application.name=shikshaspaceui

# ========================================
# OAUTH2 CLIENT CONFIGURATION (Keycloak)
# ========================================
spring.security.oauth2.client.registration.keycloak.provider=keycloak
spring.security.oauth2.client.registration.keycloak.client-id=shikshaspace-ui-client
spring.security.oauth2.client.registration.keycloak.client-secret=${KEYCLOAK_UI_CLIENT_SECRET}
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/login/oauth2/code/keycloak
spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email

# Google OAuth2
spring.security.oauth2.client.registration.google.provider=keycloak
spring.security.oauth2.client.registration.google.client-id=shikshaspace-ui-client
spring.security.oauth2.client.registration.google.client-secret=${KEYCLOAK_UI_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google
spring.security.oauth2.client.registration.google.scope=openid,profile,email

# Keycloak Provider
spring.security.oauth2.client.provider.keycloak.issuer-uri=${KEYCLOAK_ISSUER_URI:http://keycloak.shubhamsinghrajput.com/realms/shikshaspace}
spring.security.oauth2.client.provider.keycloak.authorization-uri=${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/auth
spring.security.oauth2.client.provider.keycloak.token-uri=${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/token
spring.security.oauth2.client.provider.keycloak.user-info-uri=${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/userinfo
spring.security.oauth2.client.provider.keycloak.jwk-set-uri=${KEYCLOAK_ISSUER_URI}/protocol/openid-connect/certs
spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username

# ========================================
# BACKEND SERVICE URLS
# ========================================
backend.user-service.url=${USER_SERVICE_URL:http://users.shubhamsinghrajput.com}
backend.space-service.url=${SPACE_SERVICE_URL:http://shikshaspace.shubhamsinghrajput.com}

# ========================================
# SESSION CONFIGURATION
# ========================================
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# ========================================
# VAADIN CONFIGURATION
# ========================================
vaadin.launch-browser=false
vaadin.whitelisted-packages=com.shikshaspace.shikshaspace-ui
vaadin.productionMode=true
vaadin.pnpm.enable=true

# ========================================
# ACTUATOR
# ========================================
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=always

# ========================================
# LOGGING
# ========================================
logging.level.root=INFO
logging.level.com.shikshaspace.shikshaspace-ui=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.com.vaadin=INFO

